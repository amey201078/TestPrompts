Functional Design Document (FDD)
Sales Call Journey Planning Solution (Reverse-Engineered from "Revised Requirement 7.txt")
Version: 1.0
Date: 2025-05-27

1. Introduction
This Functional Design Document (FDD) details the solution for automating and optimizing sales call journey planning for Account Sales Managers (ASMs) using Dynamics 365. The design has been reverse-engineered from the provided requirements document and expands each requirement into actionable, stakeholder-ready components. The document ensures traceability, business alignment, and technical clarity for all stakeholders involved in the implementation and review process.

2. Scope
2.1 In Scope
* Automated and manual creation of sales call schedules for ASMs
* Tier-based customer segmentation driving call frequency and route
* Management of prospect and customer calls within a journey plan
* Integration with Outlook Calendar and mobile navigation applications
* Route and journey optimization considering holidays, working hours, and locations
* Visual mapping and reporting of journey plans
* Management and reporting of re-scheduling, cancellations, and walk-ins
* Mobile and offline access to journey plans
* Management reporting on planned and actual calls
* System and user-driven next call creation
* Data synchronization with Dynamics CRM and Outlook
2.2 Out of Scope
* Custom mobile application development outside Dynamics 365 mobile capabilities
* Integration with non-supported or legacy CRM/ERP systems
* Direct integration with third-party navigation apps not offering APIs
* Data migration from legacy systems (unless specifically stated)
* Custom development for advanced AI-based route optimization
* Voice assistant integration
* Real-time GPS tracking of ASMs

3. Actors/Roles
* Account Sales Manager (ASM): Primary user, manages journey plans, schedules/reschedules calls, reviews maps, and updates call outcomes.
* Line Manager (RSM, RSD, SD): Reviews journey plans, filter views by ASM, monitors performance.
* CRM System: Automates scheduling, integrates with Outlook and navigation apps, enforces business rules.
* Prospect/Customer: Receives calls/appointments, interacts through scheduling and confirmations.
* System Administrator: Configures system parameters, manages integrations and user roles.
* IT Support: Handles issue resolution, manages offline/online synchronization.
* Outlook Calendar: Used for scheduling, syncing, and availability checks.
* Navigation Apps (Google Maps, Waze, Bing Maps): Provides route guidance.

4. Assumptions and Inferred Requirements
No.Assumption/Inferred RequirementSource/JustificationA1All ASMs have Outlook and Dynamics 365 access on mobile devices.Implied by mobile/Outlook integration.A2Customer "Tier" data is maintained and updated in CRM.Implied by tier-driven scheduling.A3Working hours, holidays, and home locations are stored or accessible in CRM or integrated systems.Referenced in journey planning.A4All customer/prospect addresses are geocoded or can be mapped for navigation.Required for route planning and mapping.A5Data privacy and retention are managed per organization policy.Implied in reporting notes.A6ASM can manually override system plans where needed.Implied in manual call creation and amendments.A7Communications for rescheduling are only via Email.Requirement text.A8Offline functionality is limited to essential features (view, basic edit).Best practice for mobile/remote work.A9Each ASM can have multiple home locations but only one primary for journey start/end.Implied in requirements.A10Integration with navigation apps depends on device capability and app availability.Industry standard.A11All call activities (planned, completed, rescheduled) are auditable for reporting.Implied by reporting requirements.
5. Functional Requirements
FR No.RequirementDescriptionPreconditions/TriggersUser InteractionsExpected BehaviorEdge Cases/ValidationFR001System-created Sales CallAutomatically schedule calls for each "Existing" customer based on their assigned Tier (1-4), using sales, volume, margin, and potential data.Tiering completed/updated, customer is live.None (system-driven; viewable/editable by ASM)Calls scheduled as per frequency (bi-weekly, monthly, bi-monthly, quarterly), assigned to connected ASM.If tier or sales data missing, flag for review.FR002Manual Sales Call Creation/AmendmentASM can manually create calls for prospects or amend scheduled calls for customers.ASM initiates via UI.Add/edit/delete call, specify customer/prospect, set date/time.Calls are added/amended as per user input; system checks for conflicts and business rules.Prevent double-booking, enforce call limits per day.FR003Daily Call CapSystem enforces a minimum of 7 and a maximum of 9 calls per day for each ASM.Scheduling/plan creation.ASM reviews and adjusts as needed.Save only if within allowed range.Show warning if <7 or >9 calls scheduled.FR004Holiday & Availability ConsiderationJourney planning considers bank holidays, customer opening hours, planned ASM holidays, and meeting hours.Plan generation, rescheduling.ASM reviews/adjusts plan, system checks for conflicts.Calls not scheduled on holidays/closed periods.If exceptions needed, require manager approval.FR005Home Location DefinitionASMs can define multiple home locations, set a primary for journey planning.ASM profile setup/update.Add/edit/delete home locations, set primary.Journey plans use primary as start/end; changes reflected in next plan run.Warn if none set; restrict changes during active plan.FR006Contact Type InclusionSystem ensures each daily plan includes at least 2 prospect calls per day.Plan generation.ASM reviews/adjusts as needed.Prospect calls distributed across journey; alert if requirement unmet.Alert if insufficient prospects available.FR007Optimized/Circular JourneysRoute planning optimizes for circular journeys to minimize travel, starting/ending at home location.Plan generation, location/address updates.ASM reviews route map.Route is circular or optimal; system suggests best ordering.If route cannot be circular, system justifies.FR008Multi-modal Transport SupportJourney plan supports walking, public, and private transport, regionally configurable.Plan generation, user/device settings.ASM selects transport preference.Travel time/distance adjusts by mode; region restrictions apply.If mode unavailable, suggest alternatives.FR009Visual Map ViewASM can view daily/weekly journey plans on an interactive map.Plan available, user access.View/select day/week, zoom/pan map.Map displays route, appointments, and transport info.Map unavailable if addresses not geocoded.FR0104-Week JP CreationSystem creates journey plans for every ASM for a rolling 4-week period monthly.Start of each month or on demand.ASM/manager reviews plan.Plans visible, editable, and up-to-date.If plan not generated, system alerts support.FR011Daily Plan RefreshJourney plan is updated daily to reflect changes (cancellations, reschedules, new data).Start of day, data changes.ASM views or is notified of changes.Plan is current; changes highlighted.Sync issues flagged for offline ASMs.FR012Confirmed and Walk-In AppointmentsAppointments confirmed with clients, system handles rescheduling and communicates via Email.Appointment scheduling/rescheduling.ASM selects/cancels/reschedules, system sends emails.Email sent for all changes; confirmation tracked.If email fails, retry/alert user.FR013Call Duration ManagementDefault call duration 60-90 minutes, varies by call type (live, prospect, wine tasting/training). Exceptions allowed.Call scheduling/editing.ASM sets/adjusts duration as needed.Duration validated, exceptions logged.Warning if outside 60-90 mins unless justified.FR014Detailed Route DirectionsASM can access step-by-step travel directions for journey.Map view available.Click to view directions per stop.Directions open in-app or via external navigation app.If directions unavailable, fallback to manual entry.FR015Mobile App IntegrationIntegration with mobile navigation apps (Google Maps, Waze, etc.) for journey assistance.Mobile device, app installed.ASM clicks to open journey in navigation app.App opens with route pre-loaded.If app not installed, prompt to install.FR016Weekly & Monthly Plan VisibilityASM and managers can view weekly and 4-week rolling plans.Plan generated, user access.Select week/month, filter by ASM.Plan displays calls, status, and objectives.If data missing, error message shown.FR017Sync with OutlookJourney plans sync with Outlook Calendar within 3-5 minutes.Appointment creation/update.ASM reviews both systems.Changes reflected in both systems promptly.Alert if sync fails or delayed.FR018Plan Visibility for ManagersLine managers (RSM, RSD, SD) can view/filter plans by ASM.Plan generated, manager access.Filter/search by ASM, export reports.Only authorized users see team data.Access control enforced.FR019Prospect Calls in Journey PlanProspect calls are blended into the daily journey plan.Plan generation.ASM reviews, system ensures compliance.Prospect and customer calls balanced as per rules.If insufficient prospects, alert generated.FR020Automated Route PlanningSystem optimizes route to minimize travel, maximize call time.Plan generation, location updates.ASM reviews suggested route.Route reflects best ordering by distance/time.User can override with justification.FR021Call Objectives DisplayASM can view call objectives for each scheduled call.Call scheduled, data present.Click call to view details/objectives.Objectives visible and editable if permitted.If missing, prompt user to enter.FR022Call ReschedulingASM can reschedule calls, system enforces business rules.ASM initiates reschedule.Select new date/time, provide reason.Call rescheduled, reason logged.Prevents double-booking, logs all changes.FR023Reschedule Reason CodesSystem requires reschedule reason when changing date/time.Reschedule initiated.Select or enter reason.Reason code mandatory, tracked for reporting.Block save if missing.FR024Walk-in SuggestionsOn cancellation, system suggests nearby prospects for walk-in appointments.Appointment cancelled, location known.View/accept suggested prospects.Suggests available, nearby walk-ins.If none available, notify user.FR025System-Generated Next CallSystem auto-creates next call date based on tiering rules.Call completed, tier data present.None (system-driven, user can edit).Next call appears as scheduled.Alert if tier info missing.FR026Manual Next Call CreationASM can manually add/adjust next call date for prospects/customers.ASM initiates via UI.Add/edit next call date/time.Changes reflected in plan, validated for conflicts.Warning if outside expected interval.FR027Call Activity TrackingSystem tracks actual calls (completed), planned calls, and rescheduled calls with reasons.Calls scheduled/completed.ASM/manager reviews reports.Data available for reporting, analytics.Data privacy rules enforced.FR028Dynamics CRM IntegrationIntegration with Dynamics CRM for all customer, call, and plan data.System setup complete.Ongoing, transparent to users.Data synchronized, integrity maintained.Sync failures logged/alerted.FR029Integration with Navigation AppsSystem integrates with Google Maps, Bing Maps, Waze, etc.Device/app available.ASM opens journey in app.Route opens with stops pre-loaded.If unsupported, fallback to manual selection.FR030Mobile AccessASMs can access all relevant journey plan info on mobile devices, with responsive UI.Mobile device, app installed.Log in, view/edit plans, maps, reports.All functionality available, optimized for mobile.Limited features in offline mode.FR031Offline AccessEssential journey plan features available offline; syncs when online.No/poor internet.ASM views/edits offline, syncs on reconnect.Data consistent, conflicts resolved on sync.Warn of unsynced changes.
6. User Stories
User Story Summary Table
User Story IDSummaryPrimary ActorGoalAcceptance CriteriaUS-01System creates sales call plan by tierASMReceive automated plan matching customer tiersPlan is created, visible, and editable per tier logicUS-02Manually add/amend callsASMAdd or update calls as neededCalls saved, conflicts prevented, rules enforcedUS-03Plan considers holidays & availabilityASMAvoid scheduling on non-working days or closed hoursCalls not scheduled on holidays/closuresUS-04Set and update home locationsASMDefine journey start/end pointsHome location used for route planningUS-05Include prospect calls in daily planASMEnsure prospect outreachAt least 2 prospect calls per dayUS-06View optimized journey mapASMVisualize daily/weekly routeInteractive map displays all stopsUS-07Re-schedule calls with reasonASMChange appointments as neededReason required, plans updated, email sentUS-08Suggest walk-in prospects after cancellationASMFill gaps from cancellationsSuggestions shown, can be accepted/rejectedUS-09Sync with OutlookASMSee calls in Outlook calendarSync occurs within 5 minutes, no data lossUS-10Access plans on mobile/offlineASMWork on-the-go or in remote areasEssential features available offline
7. Integration / Data Migration / Import
* CRM Integration:
o Real-time sync of customer, prospect, call, and journey data with Dynamics CRM (Dataverse).
o Ensure bi-directional sync for updates from mobile/Outlook.
* Outlook Calendar Integration:
o 3-5 minute sync window for all planned, rescheduled, and cancelled calls.
o Leverage Dynamics 365 native Outlook integration.
* Navigation App Integration:
o Deep-linking into Google Maps, Waze, etc., from journey plan UI.
* Mobile App Integration:
o Use Dynamics 365 mobile app; ensure offline data sync logic is robust.
* Data Migration:
o (If required) Import historical journey and call data into CRM using Data Import or Power Query.
* External Data Imports:
o Opening hours, holidays, and home location data imported from HR or ERP as needed.

8. Reporting
* Call Activity Reports:
o Actual vs planned calls by ASM, team, period (last week, month).
* Reschedule Reason Reports:
o Report on re-scheduled calls by day, ASM, and reason code.
* Journey Efficiency Reports:
o Average travel time vs call time, journey optimization success rate.
* Prospect Conversion Reports:
o Number and outcome of prospect calls per period.
* Management Dashboards:
o Visual summaries, filters by ASM, territory, period.

9. Design Inventory
Design Inventory Table
User StoryType of ComponentName of EntityDescriptionUS-01EntityAccount, Contact, AppointmentExtend OOB Appointment entity: add Tier, Next Call Date, Call Type fields. Associate with Account/Contact.US-01Power AutomateAuto-Scheduling FlowFlow triggers on Account Tier update: schedules calls, creates Appointment activities as per rules.US-02EntityAppointmentAllow manual creation/edit of Appointment records; enforce validation via business rules.US-03Business RulesAppointmentRule checks against holiday/calendar entities before allowing save.US-03EntityCalendar (custom)Store organization holidays and ASM planned holidays for validation.US-04EntityUser LocationCustom entity for home locations, with primary flag; link to User.US-05Power AutomateDaily Plan Validation FlowFlow validates 2 prospect calls per day; sends alert if unmet.US-06View (Form/Chart)Journey MapCustom PCF control or Power BI embedded map for route visualization.US-07PluginAppointment ReschedulingPlugin enforces reason code capture, triggers email notification.US-08Power AutomateWalk-in Suggestion FlowFlow suggests nearby prospects based on cancelled appointment location.US-09IntegrationOutlook SyncOOB Dynamics 365 - Outlook calendar sync enabled for Appointment entity.US-10Power AutomateMobile Sync FlowEnsures data sync to/from mobile app, handles conflicts.US-10EntityOffline QueueStore unsynced changes for later processing.............
10. OOB Fitment / Customization / Gaps Analysis
Dynamics 365 Module Fit Table
User Story IDUser Story TitleBest Fit ModulePercentage of FitnessDiscrepancy/Gaps/NotesQuery for StakeholdersUS-01System creates sales call plan by tierDynamics 365 Sales90%OOB supports activity scheduling; auto-tiered scheduling needs Power Automate/PluginConfirm tier rules, data sourceUS-02Manually add/amend callsDynamics 365 Sales100%OOB supports manual activitiesNoneUS-03Plan considers holidays & availabilitySales/Field Service80%Custom calendar/holiday entity neededHow are holidays maintained?US-04Set and update home locationsSales80%Custom user location entity requiredHow often do locations change?US-05Include prospect calls in daily planSales/Marketing85%OOB supports leads/prospects; validation flow neededVolume of prospects per ASM?US-06View optimized journey mapField Service70%OOB mapping is for work orders; need PCF/embedded Power BIPreferred map provider?US-07Re-schedule calls with reasonSales95%Reason code customization neededList of reason codes?US-08Suggest walk-in prospects after cancellationSales/Field Service75%Custom logic for proximity-based suggestionsProximity rules?US-09Sync with OutlookSales100%Fully supported OOBNoneUS-10Access plans on mobile/offlineSales95%Offline support for some features; complex edits limitedWhat offline features are critical?
11. Non-Functional Requirements
NFR No.DescriptionAssumptionsNFR001Performance: All plans and syncs complete within 5 seconds for user actions, 5 minutes for background jobs.Typical user load, standard network.NFR002Availability: System available 99.9% during business hours.Cloud-hosted infrastructure.NFR003Security: Role-based access control for all data/views.Standard D365 security model.NFR004Data Integrity: All changes auditable, history maintained per org policy.Audit log retention configured.NFR005Scalability: System supports up to 500 ASMs concurrently.Sizing based on growth forecasts.NFR006Usability: Mobile and desktop UI adheres to accessibility standards.Supported devices only.NFR007Offline: Core journey plan functions available offline, sync upon reconnection.Device storage sufficient.NFR008Localization: Regional settings for time, transport, holidays.Data available for all regions.
12. Glossary
TermDefinitionASMAccount Sales Manager; field sales employee managing customer accounts and journey plans.TierClassification of customers based on value/potential, driving call frequency.ProspectPotential customer not yet trading, subject to sales outreach.Journey Plan (JP)Scheduled set of sales calls and visits for a given period.RSM/RSD/SDLine Managers: Regional Sales Manager, Regional Sales Director, Sales Director.OOBOut-of-the-Box, native functionality of Dynamics 365.AppointmentDynamics 365 Activity entity representing a scheduled call/meeting.Home LocationStarting/ending point for ASMs journey plan.Walk-inUnscheduled or ad-hoc sales call, often to fill gaps.Power AutomateMicrosoft cloud-based workflow automation tool.PluginCustom business logic triggered by Dynamics 365 events.PCFPowerApps Component Framework  for custom UI controls.Outlook SyncIntegration between Dynamics 365 and Microsoft Outlook for calendar items.
End of Document

